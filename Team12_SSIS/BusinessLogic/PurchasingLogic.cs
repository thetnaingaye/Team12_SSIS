using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using Team12_SSIS.Model;

namespace Team12_SSIS.BusinessLogic
{
    //Khair Line 15 to 315
    //Chang Siang Line 316 to 616
    //Jaining Line 617 to 917
    //Pradeep 1218 to 1518
    // Line 1519 to 1820
    public class PurchasingLogic
    {



















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































		public static List<SupplierList> ListSuppliers()
		{
			using (SA45Team12AD entities = new SA45Team12AD())
			{
				return entities.SupplierLists.ToList();
			}
		}

		public static void UpdateOrderLeadTime(int orderLeadTime, string supplierID)
		{
			using (SA45Team12AD entities = new SA45Team12AD())
			{
				SupplierList supplier = entities.SupplierLists.Where(p => p.SupplierID == supplierID).First<SupplierList>();
				supplier.OrderLeadTime = orderLeadTime;
				entities.SaveChanges();
			}
		}

		public static string GetCurrentAutomationStatus(string itemid)
		{
			using (SA45Team12AD entites = new SA45Team12AD())
			{
				InventoryCatalogue inventory = entites.InventoryCatalogues.Where(x => x.ItemID == itemid).First<InventoryCatalogue>();
				if (inventory.BufferStockLevel == null)
				{
					return "The buffer stock level is currently calculated automatically for the current item.";
				}
				else
				{
					return "The buffer stock level for the current item is " + inventory.BufferStockLevel.ToString();
				}
			}
		}

		

	}
}